'''
컴퓨터정보통신공학전공 175704 박지연
5G LDPC code의 protomatrix 만드는 프로그램
'''

'''
#============LDPC Base Graph1=================
f = open("./jiyeon_5G_BG1_punct1.txt", 'w')

rows = 46
cols = 68
row_idx = []

for i in range(rows):
    row_idx.append(i)
#print(row_idx)

col_idx = [[0, 1, 2, 3, 5, 6, 9, 10, 11, 12, 13, 15, 16, 18, 19, 20, 21, 22, 23],
           [0, 2, 3, 4, 5, 7, 8, 9, 11, 12, 14, 15, 16, 17, 19, 21, 22, 23, 24],
           [0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 13, 14, 15, 17, 18, 19, 20, 24, 25],
           [0, 1, 3, 4, 6, 7, 8, 10, 11, 12, 13, 14, 16, 17, 18, 20, 21, 22, 25],
           [0, 1, 26],
           [0, 1, 3, 12, 16, 21, 22, 27],
           [0, 6, 10, 11, 13, 17, 18, 20, 28],
           [0, 1, 4, 7, 8, 14, 29],
           [0, 1, 3, 12, 16, 19, 21, 22, 24, 30],
           [0, 1, 10, 11, 13, 17, 18, 20, 31],
           [1, 2, 4, 7, 8, 14, 32],
           [0, 1, 12, 16, 21, 22, 23, 33],
           [0, 1, 10, 11, 13, 18, 34],
           [0, 3, 7, 20, 23, 35],
           [0, 12, 15, 16, 17, 21, 36],
           [0, 1, 10, 13, 18, 25, 37],
           [1, 3, 11, 20, 22, 38],
           [0, 14, 16, 17, 21, 39],
           [1, 12, 13, 18, 19, 40],
           [0, 1, 7, 8, 10, 41],
           [0, 3, 9, 11, 22, 42],
           [1, 5, 16, 20, 21, 43],
           [0, 12, 13, 17, 44],
           [1, 2, 10, 18, 45],
           [0, 3, 4, 11, 22, 46],
           [1, 6, 7, 14, 47],
           [0, 2, 4, 15, 48],
           [1, 6, 8, 49],
           [0, 4, 19, 21, 50],
           [1, 14, 18, 25, 51],
           [0, 10, 13, 24, 52],
           [1, 7, 22, 25, 53],
           [0, 12, 14, 24, 54],
           [1, 2, 11, 21, 55],
           [0, 7, 15, 17, 56],
           [1, 6, 12, 22, 57],
           [0, 14, 15, 18, 58],
           [1, 13, 23, 59],
           [0, 9, 10, 12, 60],
           [1, 3, 7, 19, 61],
           [0, 8, 17, 62],
           [1, 3, 9, 18, 63],
           [0, 4, 24, 64],
           [1, 16, 18, 25, 65],
           [0, 7, 9, 22, 66],
           [1, 6, 10, 67]
           ]
#print(len(col_idx))

f.write(str(rows) + " " + str(cols) + "\n\n")

#first node puncturing exist
for i in range(cols):
    if i == 0:
        f.write("1"+"\t")
    elif i < cols - 1:
        f.write("0"+"\t")
    else:
        f.write("0"+"\n\n\n")

#no puncturing
#for i in range(cols):
#    if i < cols - 1:
#        f.write("0"+"\t")
#    else:
#        f.write("0"+"\n\n\n")

for i in range(rows):
    for j in range(cols):
        if j in col_idx[i]:
            if j < cols - 1:
                f.write("1"+"\t")
            else:
                f.write("1")
        else:
            if j < cols - 1:
                f.write("0"+"\t")
            else:
                f.write("0")
    if i < rows - 1:
        f.write("\n")

f.close()
'''

#============LDPC Base Graph2=================
f = open("./jiyeon_5G_BG2_punct1.txt", 'w')

rows = 42
cols = 52
row_idx = []

for i in range(rows):
    row_idx.append(i)
#print(row_idx)

col_idx = [[0, 1, 2, 3, 6, 9, 10, 11],
           [0, 3, 4, 5, 6, 7, 8, 9, 11, 12],
           [0, 1, 3, 4, 8, 10, 12, 13],
           [1, 2, 4, 5, 6, 7, 8, 9, 10, 13],
           [0, 1, 11, 14],
           [0, 1, 5, 7, 11, 15],
           [0, 5, 7, 9, 11, 16],
           [1, 5, 7, 11, 13, 17],
           [0, 1, 12, 18],
           [1, 8, 10, 11, 19],
           [0, 1, 6, 7, 20],
           [0, 7, 9, 13, 21],
           [1, 3, 11, 22],
           [0, 1, 8, 13, 23],
           [1, 6, 11, 13, 24],
           [0, 10, 11, 25],
           [1, 9, 11, 12, 26],
           [1, 5, 11, 12, 27],
           [0, 6, 7, 28],
           [0, 1, 10, 29],
           [1, 4, 11, 30],
           [0, 8, 13, 31],
           [1, 2, 32],
           [0, 3, 5, 33],
           [1, 2, 9, 34],
           [0, 5, 35],
           [2, 7, 12, 13, 36],
           [0, 6, 37],
           [1, 2, 5, 38],
           [0, 4, 39],
           [2, 5, 7, 9, 40],
           [1, 13, 41],
           [0, 5, 12, 42],
           [2, 7, 10, 43],
           [0, 12, 13, 44],
           [1, 5, 11, 45],
           [0, 2, 7, 46],
           [10, 13, 47],
           [1, 5, 11, 48],
           [0, 7, 12, 49],
           [2, 10, 13, 50],
           [1, 5, 11, 51]
]
#print(len(col_idx))

f.write(str(rows) + " " + str(cols) + "\n\n")

#first node puncturing exist
for i in range(cols):
    if i == 0:
        f.write("1"+"\t")
    elif i < cols - 1:
        f.write("0"+"\t")
    else:
        f.write("0"+"\n\n\n")

#no puncturing
#for i in range(cols):
#    if i < cols - 1:
#        f.write("0"+"\t")
#    else:
#        f.write("0"+"\n\n\n")

for i in range(rows):
    for j in range(cols):
        if j in col_idx[i]:
            if j < cols - 1:
                f.write("1"+"\t")
            else:
                f.write("1")
        else:
            if j < cols - 1:
                f.write("0"+"\t")
            else:
                f.write("0")
    if i < rows - 1:
        f.write("\n")

f.close()
